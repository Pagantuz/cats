{"version":3,"file":"static/js/169.df5096f3.chunk.js","mappings":"4QAMMA,EAAuB,WAC3B,OACEC,EAAAA,EAAAA,KADMC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,UAAWC,EAA3B,EAA2BA,cAAeC,EAA1C,EAA0CA,iBAE1C,EAAsCC,EAAAA,UAAwB,GAA9D,eAAOC,EAAP,KAAoBC,EAApB,KAEAF,EAAAA,WAAgB,WACTJ,EAAOO,SACVJ,GAAiB,IACjBK,EAAAA,EAAAA,GAAU,CAAEC,MAAO,KAChBC,MAAK,SAACC,GACLV,EAAUU,MAEXC,OAAM,SAACC,GAAO,IAAD,EACZC,EAAAA,EAAAA,MAAmB,CACjBC,QAASF,EAAEE,QACXC,aAAa,UAAAH,EAAEI,gBAAF,eAAYC,KAAKH,UAAW,QAG5CI,SAAQ,WACPhB,GAAiB,SAGtB,IAmBH,OAAQD,GAyBN,SAAC,IAAD,CACEkB,KAAK,QACLC,MAAO,CAAEC,UAAW,wCA1BtB,iBAAKC,UAAU,SAAf,WACE,SAAC,IAAD,CACEC,KAAK,UACLJ,KAAK,QACLK,OAAK,EACLC,QAvBa,WACjBpB,GAAe,IACfE,EAAAA,EAAAA,GAAU,CAAEC,MAAO,KAChBC,MAAK,SAACC,GACLV,GAAU,SAAC0B,GAAD,wBAAchB,IAAd,OAAsBgB,UAEjCf,OAAM,SAACC,GAAO,IAAD,EACZC,EAAAA,EAAAA,MAAmB,CACjBC,QAASF,EAAEE,QACXC,aAAa,UAAAH,EAAEI,gBAAF,eAAYC,KAAKH,UAAW,QAG5CI,SAAQ,WACPb,GAAe,OAWfsB,QAASvB,EALX,wBAQA,gBAAKkB,UAAU,UAAf,SACGvB,EAAO6B,KAAI,SAACC,GAAD,OACV,SAAC,KAAD,CAAqBC,GAAE,kBAAaD,EAAME,IAA1C,UACE,gBACET,UAAU,eACVU,MAAO,IACPC,OAAQ,IACRC,IAAKL,EAAMM,OALJN,EAAME,UAUrB,SAAC,KAAD","sources":["pages/Images/ImagesPage.tsx"],"sourcesContent":["import { Button, notification, Spin } from 'antd';\r\nimport React from 'react';\r\nimport { Link, Outlet } from 'react-router-dom';\r\nimport { getImages } from '../../api/images';\r\nimport { useStoreContext } from '../../context/Store';\r\n\r\nconst ImagesPage: React.FC = () => {\r\n  const { images, setImages, imagesLoading, setImagesLoading } =\r\n    useStoreContext();\r\n  const [moreLoading, setMoreLoading] = React.useState<boolean>(false);\r\n\r\n  React.useEffect(() => {\r\n    if (!images.length) {\r\n      setImagesLoading(true);\r\n      getImages({ limit: 10 })\r\n        .then((res) => {\r\n          setImages(res);\r\n        })\r\n        .catch((e) => {\r\n          notification.error({\r\n            message: e.message,\r\n            description: e.response?.data.message || ''\r\n          });\r\n        })\r\n        .finally(() => {\r\n          setImagesLoading(false);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  const onLoadMore = () => {\r\n    setMoreLoading(true);\r\n    getImages({ limit: 10 })\r\n      .then((res) => {\r\n        setImages((prev) => [...res, ...prev]);\r\n      })\r\n      .catch((e) => {\r\n        notification.error({\r\n          message: e.message,\r\n          description: e.response?.data.message || ''\r\n        });\r\n      })\r\n      .finally(() => {\r\n        setMoreLoading(false);\r\n      });\r\n  };\r\n\r\n  return !imagesLoading ? (\r\n    <div className='images'>\r\n      <Button\r\n        type='primary'\r\n        size='large'\r\n        block\r\n        onClick={onLoadMore}\r\n        loading={moreLoading}>\r\n        Load more\r\n      </Button>\r\n      <div className='gallery'>\r\n        {images.map((image) => (\r\n          <Link key={image.id} to={`/images/${image.id}`}>\r\n            <img\r\n              className='gallery__img'\r\n              width={300}\r\n              height={300}\r\n              src={image.url}\r\n            />\r\n          </Link>\r\n        ))}\r\n      </div>\r\n      <Outlet />\r\n    </div>\r\n  ) : (\r\n    <Spin\r\n      size='large'\r\n      style={{ marginTop: 'calc(((100vh - 48px) - 46px) / 2)' }}\r\n    />\r\n  );\r\n};\r\n\r\nexport { ImagesPage };\r\n"],"names":["ImagesPage","useStoreContext","images","setImages","imagesLoading","setImagesLoading","React","moreLoading","setMoreLoading","length","getImages","limit","then","res","catch","e","notification","message","description","response","data","finally","size","style","marginTop","className","type","block","onClick","prev","loading","map","image","to","id","width","height","src","url"],"sourceRoot":""}